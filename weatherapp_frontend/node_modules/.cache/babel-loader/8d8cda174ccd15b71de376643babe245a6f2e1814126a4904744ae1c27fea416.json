{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport weatherService from '../services/weatherService';\nimport { addWeatherHistory } from './weatherHistoryReducer';\nimport { useAppDispatch } from '../store';\nconst initialState = {\n  name: null,\n  weather: null,\n  main: null,\n  wind: null\n};\nconst weatherReportSlice = createSlice({\n  name: 'weatherReport',\n  initialState,\n  reducers: {\n    setWeather: (state, action) => {\n      const weatherReport = action.payload;\n      state = weatherReport;\n      return state;\n    }\n  }\n});\nexport const fetchWeatherReport = city => {\n  var _s = $RefreshSig$();\n  return _s(async dispatch => {\n    _s();\n    const weatherReport = await weatherService.getCity(city);\n    dispatch(setWeather(weatherReport));\n    if (weatherReport.name) {\n      const dispatch = useAppDispatch();\n      dispatch(addWeatherHistory(weatherReport.name));\n    }\n  }, \"BJQ1DUn/XFEl2NsQ3DWyHAXfnkY=\", false, function () {\n    return [useAppDispatch];\n  });\n};\nexport const {\n  setWeather\n} = weatherReportSlice.actions;\nconst weatherReportReducer = weatherReportSlice.reducer;\nexport default weatherReportReducer;","map":{"version":3,"names":["createSlice","weatherService","addWeatherHistory","useAppDispatch","initialState","name","weather","main","wind","weatherReportSlice","reducers","setWeather","state","action","weatherReport","payload","fetchWeatherReport","city","_s","$RefreshSig$","dispatch","getCity","actions","weatherReportReducer","reducer"],"sources":["/home/eartto/weatherapp/weatherapp_frontend/src/reducers/weatherReportReducer.ts"],"sourcesContent":["import { createSlice, Dispatch } from '@reduxjs/toolkit'\nimport weatherService from '../services/weatherService'\nimport { weatherReport } from '../@types/weatherReport'\nimport { addWeatherHistory } from './weatherHistoryReducer'\nimport { useAppDispatch } from '../store'\n\nconst initialState: weatherReport = {\n    name: null,\n    weather: null,\n    main: null,\n    wind: null\n}\n\nconst weatherReportSlice = createSlice({\n    name: 'weatherReport',\n    initialState,\n    reducers: {\n        setWeather: (state, action) => {\n            const weatherReport = action.payload\n            state = weatherReport\n            return state\n        }\n    }\n})\n\nexport const fetchWeatherReport = (city: string) => {\n    return async (dispatch: Dispatch) => {\n        const weatherReport = await weatherService.getCity(city)\n        dispatch(setWeather(weatherReport))\n        if (weatherReport.name) {\n            const dispatch = useAppDispatch()\n            dispatch(addWeatherHistory(weatherReport.name))\n        }\n    }\n}\n\nexport const { setWeather } = weatherReportSlice.actions\n\nconst weatherReportReducer = weatherReportSlice.reducer\n\nexport default weatherReportReducer"],"mappings":"AAAA,SAASA,WAAW,QAAkB,kBAAkB;AACxD,OAAOC,cAAc,MAAM,4BAA4B;AAEvD,SAASC,iBAAiB,QAAQ,yBAAyB;AAC3D,SAASC,cAAc,QAAQ,UAAU;AAEzC,MAAMC,YAA2B,GAAG;EAChCC,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE,IAAI;EACbC,IAAI,EAAE,IAAI;EACVC,IAAI,EAAE;AACV,CAAC;AAED,MAAMC,kBAAkB,GAAGT,WAAW,CAAC;EACnCK,IAAI,EAAE,eAAe;EACrBD,YAAY;EACZM,QAAQ,EAAE;IACNC,UAAU,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC3B,MAAMC,aAAa,GAAGD,MAAM,CAACE,OAAO;MACpCH,KAAK,GAAGE,aAAa;MACrB,OAAOF,KAAK;IAChB;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMI,kBAAkB,GAAIC,IAAY,IAAK;EAAA,IAAAC,EAAA,GAAAC,YAAA;EAChD,OAAAD,EAAA,CAAO,MAAOE,QAAkB,IAAK;IAAAF,EAAA;IACjC,MAAMJ,aAAa,GAAG,MAAMb,cAAc,CAACoB,OAAO,CAACJ,IAAI,CAAC;IACxDG,QAAQ,CAACT,UAAU,CAACG,aAAa,CAAC,CAAC;IACnC,IAAIA,aAAa,CAACT,IAAI,EAAE;MACpB,MAAMe,QAAQ,GAAGjB,cAAc,CAAC,CAAC;MACjCiB,QAAQ,CAAClB,iBAAiB,CAACY,aAAa,CAACT,IAAI,CAAC,CAAC;IACnD;EACJ,CAAC;IAAA,QAHwBF,cAAc;EAAA;AAI3C,CAAC;AAED,OAAO,MAAM;EAAEQ;AAAW,CAAC,GAAGF,kBAAkB,CAACa,OAAO;AAExD,MAAMC,oBAAoB,GAAGd,kBAAkB,CAACe,OAAO;AAEvD,eAAeD,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}