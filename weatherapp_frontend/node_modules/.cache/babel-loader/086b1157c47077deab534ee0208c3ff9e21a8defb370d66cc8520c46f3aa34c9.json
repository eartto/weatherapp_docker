{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport weatherService from '../services/weatherService';\nconst initialState = {\n  weatherReport: null,\n  loading: 'idle',\n  error: null\n};\nconst weatherReportSlice = createSlice({\n  name: 'weatherReport',\n  initialState,\n  reducers: {\n    setWeather: (state, action) => {\n      const weatherReport = action.payload;\n      state.weatherReport = weatherReport;\n      return state;\n    }\n  }\n});\n/*\nexport const fetchWeatherReport = createAsyncThunk(\n    'weatherReport/fetchWeatherReport',\n    async (city: string) => {\n        const response = await weatherService.getCity(city)\n        return response\n    }\n)\n*/\nexport const fetchWeatherReport = city => {\n  return async dispatch => {\n    const weatherReport = await weatherService.getCity(city);\n    dispatch(setWeather(weatherReport));\n  };\n};\nexport const {\n  setWeather\n} = weatherReportSlice.actions;\nconst weatherReportReducer = weatherReportSlice.reducer;\nexport default weatherReportReducer;","map":{"version":3,"names":["createSlice","weatherService","initialState","weatherReport","loading","error","weatherReportSlice","name","reducers","setWeather","state","action","payload","fetchWeatherReport","city","dispatch","getCity","actions","weatherReportReducer","reducer"],"sources":["/home/eartto/weatherapp/weatherapp_frontend/src/reducers/weatherReportReducer.ts"],"sourcesContent":["import {  createSlice, Dispatch } from '@reduxjs/toolkit'\nimport weatherService from '../services/weatherService'\nimport { WeatherReport } from '../@types/weatherReport'\n\ninterface weatherReportState {\n    weatherReport: WeatherReport | null;\n    loading: 'idle' | 'pending' | 'succeeded' | 'failed';\n    error?: string | null;\n}\n\nconst initialState: weatherReportState = {\n    weatherReport: null,\n    loading: 'idle',\n    error: null\n}\n\nconst weatherReportSlice = createSlice({\n    name: 'weatherReport',\n    initialState,\n    reducers: {\n        setWeather: (state, action) => {\n            const weatherReport = action.payload\n            state.weatherReport = weatherReport\n            return state\n        }\n    },\n})\n/*\nexport const fetchWeatherReport = createAsyncThunk(\n    'weatherReport/fetchWeatherReport',\n    async (city: string) => {\n        const response = await weatherService.getCity(city)\n        return response\n    }\n)\n*/\nexport const fetchWeatherReport = (city: string) => {\n    return async (dispatch: Dispatch) => {\n        const weatherReport = await weatherService.getCity(city)\n        dispatch(setWeather(weatherReport))\n    }\n}\n\nexport const { setWeather } = weatherReportSlice.actions\n\nconst weatherReportReducer = weatherReportSlice.reducer\n\nexport default weatherReportReducer"],"mappings":"AAAA,SAAUA,WAAW,QAAkB,kBAAkB;AACzD,OAAOC,cAAc,MAAM,4BAA4B;AASvD,MAAMC,YAAgC,GAAG;EACrCC,aAAa,EAAE,IAAI;EACnBC,OAAO,EAAE,MAAM;EACfC,KAAK,EAAE;AACX,CAAC;AAED,MAAMC,kBAAkB,GAAGN,WAAW,CAAC;EACnCO,IAAI,EAAE,eAAe;EACrBL,YAAY;EACZM,QAAQ,EAAE;IACNC,UAAU,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC3B,MAAMR,aAAa,GAAGQ,MAAM,CAACC,OAAO;MACpCF,KAAK,CAACP,aAAa,GAAGA,aAAa;MACnC,OAAOO,KAAK;IAChB;EACJ;AACJ,CAAC,CAAC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMG,kBAAkB,GAAIC,IAAY,IAAK;EAChD,OAAO,MAAOC,QAAkB,IAAK;IACjC,MAAMZ,aAAa,GAAG,MAAMF,cAAc,CAACe,OAAO,CAACF,IAAI,CAAC;IACxDC,QAAQ,CAACN,UAAU,CAACN,aAAa,CAAC,CAAC;EACvC,CAAC;AACL,CAAC;AAED,OAAO,MAAM;EAAEM;AAAW,CAAC,GAAGH,kBAAkB,CAACW,OAAO;AAExD,MAAMC,oBAAoB,GAAGZ,kBAAkB,CAACa,OAAO;AAEvD,eAAeD,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}