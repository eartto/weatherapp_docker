{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';import weatherHistoryService from'../services/weatherHistoryService';const initialState=[];export const weatherHistorySlice=createSlice({name:'weatherHistory',initialState,reducers:{setHistory:(state,action)=>{const history=action.payload;state=history;return state;},addHistory:(state,action)=>{const city=action.payload;state.push(city);}}});export const fetchWeatherHistory=()=>{return async dispatch=>{const weatherHistory=await weatherHistoryService.getAll();dispatch(setHistory(weatherHistory));};};export const{setHistory,addHistory}=weatherHistorySlice.actions;const weatherHistoryReducer=weatherHistorySlice.reducer;export default weatherHistoryReducer;","map":{"version":3,"names":["createSlice","weatherHistoryService","initialState","weatherHistorySlice","name","reducers","setHistory","state","action","history","payload","addHistory","city","push","fetchWeatherHistory","dispatch","weatherHistory","getAll","actions","weatherHistoryReducer","reducer"],"sources":["/home/eartto/weatherapp/weatherapp_frontend/src/reducers/weatherHistoryReducer.ts"],"sourcesContent":["import { createSlice, Dispatch } from '@reduxjs/toolkit'\nimport weatherHistoryService from '../services/weatherHistoryService'\nimport { weatherHistory } from '../@types/weatherHistory'\n\nconst initialState = [] as weatherHistory[]\n\nexport const weatherHistorySlice = createSlice({\n    name: 'weatherHistory',\n    initialState,\n    reducers: {\n        setHistory: (state, action) => {\n            const history = action.payload\n            state = history\n            return state\n        },\n        addHistory: (state, action) => {\n            const city = action.payload\n            state.push(city)\n        }\n    }\n})\n\nexport const fetchWeatherHistory = () => {\n    return async (dispatch: Dispatch) => {\n        const weatherHistory = await weatherHistoryService.getAll();\n        dispatch(setHistory(weatherHistory))\n    }\n}\n\nexport const { setHistory, addHistory } = weatherHistorySlice.actions\n\nconst weatherHistoryReducer = weatherHistorySlice.reducer\n\nexport default weatherHistoryReducer"],"mappings":"AAAA,OAASA,WAAW,KAAkB,kBAAkB,CACxD,MAAO,CAAAC,qBAAqB,KAAM,mCAAmC,CAGrE,KAAM,CAAAC,YAAY,CAAG,EAAsB,CAE3C,MAAO,MAAM,CAAAC,mBAAmB,CAAGH,WAAW,CAAC,CAC3CI,IAAI,CAAE,gBAAgB,CACtBF,YAAY,CACZG,QAAQ,CAAE,CACNC,UAAU,CAAEA,CAACC,KAAK,CAAEC,MAAM,GAAK,CAC3B,KAAM,CAAAC,OAAO,CAAGD,MAAM,CAACE,OAAO,CAC9BH,KAAK,CAAGE,OAAO,CACf,MAAO,CAAAF,KAAK,CAChB,CAAC,CACDI,UAAU,CAAEA,CAACJ,KAAK,CAAEC,MAAM,GAAK,CAC3B,KAAM,CAAAI,IAAI,CAAGJ,MAAM,CAACE,OAAO,CAC3BH,KAAK,CAACM,IAAI,CAACD,IAAI,CAAC,CACpB,CACJ,CACJ,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAE,mBAAmB,CAAGA,CAAA,GAAM,CACrC,MAAO,MAAO,CAAAC,QAAkB,EAAK,CACjC,KAAM,CAAAC,cAAc,CAAG,KAAM,CAAAf,qBAAqB,CAACgB,MAAM,CAAC,CAAC,CAC3DF,QAAQ,CAACT,UAAU,CAACU,cAAc,CAAC,CAAC,CACxC,CAAC,CACL,CAAC,CAED,MAAO,MAAM,CAAEV,UAAU,CAAEK,UAAW,CAAC,CAAGR,mBAAmB,CAACe,OAAO,CAErE,KAAM,CAAAC,qBAAqB,CAAGhB,mBAAmB,CAACiB,OAAO,CAEzD,cAAe,CAAAD,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}